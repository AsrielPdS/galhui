"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.mbsep = exports.mbitem = exports.right = exports.menubar = exports.menusep = exports.submenu = exports.menucb = exports.menuitem = exports.wait = exports.menu = void 0;
const galho_1 = require("galho");
const s_1 = require("galho/s");
const inutil_1 = require("inutil");
const galhui_1 = require("./galhui");
const hover_1 = require("./hover");
const wait_1 = require("./wait");
function menu(items) { return (0, galho_1.div)("_ menu", (0, galho_1.g)("table", 0, items)); }
exports.menu = menu;
/** */
const wait = (callback) => (0, inutil_1.call)((0, galho_1.g)("tr", 0, (0, galho_1.g)("td", 0, (0, wait_1.wait)(1 /* out */)).prop("colSpan", 4)), tr => (0, wait_1.waiter)(tr, callback));
exports.wait = wait;
/**menu item */
const menuitem = (i, text, action, side) => (0, galho_1.g)("tr", "i" /* item */, [
    (0, galho_1.g)("td", 0, (0, galhui_1.icon)(i)),
    (0, galho_1.g)("td", 0, text),
    (0, galho_1.g)("td", "sd" /* side */, side),
    (0, galho_1.g)("td")
]).on("click", action);
exports.menuitem = menuitem;
/**check box */
function menucb(checked, text, toggle, id = (0, inutil_1.uuid)(4), side) {
    let input = (0, galho_1.g)("input").props({ id, checked, indeterminate: checked == null, type: "checkbox" });
    toggle && input.on("input", () => toggle.call(input, input.e.checked));
    return (0, galho_1.g)("tr", "i" /* item */, [
        (0, galho_1.g)("td", 0, input.on("click", e => e.stopPropagation())),
        (0, galho_1.g)("td", 0, (0, galho_1.g)("label", 0, text).prop("htmlFor", id)),
        side && (0, galho_1.div)("sd" /* side */, side),
        (0, galho_1.g)("td"),
    ]);
}
exports.menucb = menucb;
const submenu = (i, text, items) => (0, inutil_1.call)((0, galho_1.g)("tr", "i" /* item */, [
    (0, galho_1.g)("td", 0, (0, galhui_1.icon)(i)),
    (0, galho_1.g)("td", 0, text),
    (0, galho_1.g)("td"),
    (0, galho_1.g)("td", 0, (0, galhui_1.icon)("menuR"))
]), e => {
    let mn;
    e.on("click", () => {
        (0, s_1.is)(e.tcls("on" /* on */), '.' + "on" /* on */) ?
            (0, hover_1.fluid)((0, s_1.rect)(e), (mn ||= (0, galho_1.g)("table", "menu" /* menu */, items)).addTo(e)) :
            mn.remove();
    });
});
exports.submenu = submenu;
const menusep = () => (0, galho_1.g)("tr").cls("div" /* separator */);
exports.menusep = menusep;
/** */
const menubar = (...items) => (0, galho_1.div)("_ bar", items);
exports.menubar = menubar;
/** */
const right = () => (0, galho_1.div)("r" /* right */);
exports.right = right;
const mbitem = (i, text, action) => (0, galho_1.g)("button", "i", [(0, galhui_1.icon)(i), text]).on("click", action);
exports.mbitem = mbitem;
/**menubar separator */
const mbsep = () => (0, galho_1.g)("hr");
exports.mbsep = mbsep;
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibWVudS5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIm1lbnUudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7O0FBQUEsaUNBQWtDO0FBQ2xDLCtCQUFtQztBQUNuQyxtQ0FBb0M7QUFDcEMscUNBQXdEO0FBQ3hELG1DQUFnQztBQUNoQyxpQ0FBMkU7QUFLM0UsU0FBZ0IsSUFBSSxDQUFDLEtBQWlCLElBQUksT0FBTyxJQUFBLFdBQUcsRUFBQyxRQUFRLEVBQUUsSUFBQSxTQUFDLEVBQUMsT0FBTyxFQUFFLENBQUMsRUFBRSxLQUFLLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQztBQUF2RixvQkFBdUY7QUFFdkYsTUFBTTtBQUNDLE1BQU0sSUFBSSxHQUFHLENBQUMsUUFBaUIsRUFBRSxFQUFFLENBQ3hDLElBQUEsYUFBSSxFQUFDLElBQUEsU0FBQyxFQUFDLElBQUksRUFBRSxDQUFDLEVBQUUsSUFBQSxTQUFDLEVBQUMsSUFBSSxFQUFFLENBQUMsRUFBRSxJQUFBLFdBQUssY0FBWSxDQUFDLENBQUMsSUFBSSxDQUFDLFNBQVMsRUFBRSxDQUFDLENBQUMsQ0FBQyxFQUFFLEVBQUUsQ0FBQyxFQUFFLENBQUMsSUFBQSxhQUFNLEVBQUMsRUFBRSxFQUFFLFFBQVEsQ0FBQyxDQUFDLENBQUM7QUFEcEYsUUFBQSxJQUFJLFFBQ2dGO0FBRS9GLGVBQWU7QUFDVixNQUFNLFFBQVEsR0FBRyxDQUFDLENBQU8sRUFBRSxJQUFTLEVBQUUsTUFBYyxFQUFFLElBQUssRUFBRSxFQUFFLENBQUMsSUFBQSxTQUFDLEVBQUMsSUFBSSxrQkFBVTtJQUNyRixJQUFBLFNBQUMsRUFBQyxJQUFJLEVBQUUsQ0FBQyxFQUFFLElBQUEsYUFBSSxFQUFDLENBQUMsQ0FBQyxDQUFDO0lBQ25CLElBQUEsU0FBQyxFQUFDLElBQUksRUFBRSxDQUFDLEVBQUUsSUFBSSxDQUFDO0lBQ2hCLElBQUEsU0FBQyxFQUFDLElBQUksbUJBQVUsSUFBSSxDQUFDO0lBQ3JCLElBQUEsU0FBQyxF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