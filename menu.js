"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.hr = exports.sub = exports.cb = exports.i = exports.wait = void 0;
const galho_1 = require("galho");
const s_1 = require("galho/s");
const inutil_1 = require("inutil");
const galhui_1 = require("./galhui");
const wait_1 = require("./wait");
const wait = (callback) => (0, inutil_1.call)((0, galho_1.g)("tr", 0, (0, galho_1.g)("td", 0, (0, wait_1.wait)(1 /* out */)).prop("colSpan", 4)), tr => (0, wait_1.waiter)(tr, callback));
exports.wait = wait;
/**menu item */
const i = (i, text, action, side) => (0, galho_1.g)("tr", "i" /* item */, [
    (0, galho_1.g)("td", 0, (0, galhui_1.icon)(i)),
    (0, galho_1.g)("td", 0, text),
    (0, galho_1.g)("td", "sd" /* side */, side),
    (0, galho_1.g)("td")
]).on("click", action);
exports.i = i;
/**check box */
function cb(checked, text, toggle, id = (0, inutil_1.uuid)(4), side) {
    let input = (0, galho_1.g)("input").props({ id, checked, indeterminate: checked == null, type: "checkbox" });
    toggle && input.on("input", () => toggle.call(input, input.e.checked));
    return (0, galho_1.g)("tr", "i" /* item */, [
        (0, galho_1.g)("td", 0, input.on("click", e => e.stopPropagation())),
        (0, galho_1.g)("td", 0, (0, galho_1.g)("label", 0, text).prop("htmlFor", id)),
        side && (0, galho_1.div)("sd" /* side */, side),
        (0, galho_1.g)("td"),
    ]);
}
exports.cb = cb;
/** sub menu */
const sub = (i, text, items) => (0, inutil_1.call)((0, galho_1.g)("tr", "i" /* item */, [
    (0, galho_1.g)("td", 0, (0, galhui_1.icon)(i)),
    (0, galho_1.g)("td", 0, text),
    (0, galho_1.g)("td"),
    (0, galho_1.g)("td", 0, (0, galhui_1.icon)("menuR"))
]), e => {
    let mn;
    e.on("click", () => {
        (0, s_1.is)(e.tcls("on" /* on */), '.' + "on" /* on */) ?
            (0, galhui_1.fluid)(e, (mn ||= (0, galho_1.g)("table", "menu" /* menu */, items)).addTo(e)) :
            mn.remove();
    });
});
exports.sub = sub;
const hr = () => (0, galho_1.g)("tr").cls("div" /* separator */);
exports.hr = hr;
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibWVudS5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIm1lbnUudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7O0FBQUEsaUNBQWtDO0FBQ2xDLCtCQUE2QjtBQUM3QixtQ0FBb0M7QUFDcEMscUNBQXVEO0FBQ3ZELGlDQUEyRTtBQUlwRSxNQUFNLElBQUksR0FBRyxDQUFDLFFBQWlCLEVBQUUsRUFBRSxDQUN4QyxJQUFBLGFBQUksRUFBQyxJQUFBLFNBQUMsRUFBQyxJQUFJLEVBQUUsQ0FBQyxFQUFFLElBQUEsU0FBQyxFQUFDLElBQUksRUFBRSxDQUFDLEVBQUUsSUFBQSxXQUFLLGNBQVksQ0FBQyxDQUFDLElBQUksQ0FBQyxTQUFTLEVBQUUsQ0FBQyxDQUFDLENBQUMsRUFBRSxFQUFFLENBQUMsRUFBRSxDQUFDLElBQUEsYUFBTSxFQUFDLEVBQUUsRUFBRSxRQUFRLENBQUMsQ0FBQyxDQUFDO0FBRHBGLFFBQUEsSUFBSSxRQUNnRjtBQUNqRyxlQUFlO0FBQ1IsTUFBTSxDQUFDLEdBQUcsQ0FBQyxDQUFPLEVBQUUsSUFBUyxFQUFFLE1BQWMsRUFBRSxJQUFLLEVBQUUsRUFBRSxDQUFDLElBQUEsU0FBQyxFQUFDLElBQUksa0JBQVU7SUFDOUUsSUFBQSxTQUFDLEVBQUMsSUFBSSxFQUFFLENBQUMsRUFBRSxJQUFBLGFBQUksRUFBQyxDQUFDLENBQUMsQ0FBQztJQUNuQixJQUFBLFNBQUMsRUFBQyxJQUFJLEVBQUUsQ0FBQyxFQUFFLElBQUksQ0FBQztJQUNoQixJQUFBLFNBQUMsRUFBQyxJQUFJLG1CQUFVLElBQUksQ0FBQztJQUNyQixJQUFBLFNBQUMsRUFBQyxJQUFJLENBQUM7Q0FDUixDQUFDLENBQUMsRUFBRSxDQUFDLE9BQU8sRUFBRSxNQUFNLENBQUMsQ0FBQztBQUxWLFFBQUEsQ0FBQyxLQUtTO0FBQ3ZCLGVBQWU7QUFDZixTQUFnQixFQUFFLENBQUMsT0FBYSxFQUFFLElBQVMsRUFBRSxNQUEwRCxFQUFFLEVBQUUsR0FBRyxJQUFBLGFB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