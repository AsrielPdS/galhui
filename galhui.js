"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.panel = exports.ctx = exports.popup = exports.fixed = exports.fluid = exports.logo = exports.hr = exports.a = exports.img = exports.dropdown = exports.menu = exports.buttons = exports.confirm = exports.cancel = exports.close = exports.ilink = exports.negative = exports.positive = exports.ibutton = exports.link = exports.button = exports.icon = exports.hc = exports.cc = exports.doc = exports.body = exports.sentence = exports.word = exports.w = exports.$ = void 0;
const galho_1 = require("galho");
const s_1 = require("galho/s");
const inutil_1 = require("inutil");
/**settings */
exports.$ = {
    // c: "_",
    iconS: 24,
    delay: 500,
    rem: 14
};
/**words */
exports.w = {};
function word(key) { return key; }
exports.word = word;
function sentence(format) {
    const exp = /\{\w+\}/;
    format.replace(exp, (v) => exports.w[v.slice(1, v.length - 1)]);
}
exports.sentence = sentence;
exports.body = new galho_1.S(document.body);
exports.doc = new galho_1.S(document);
/**css class */
const cc = (...cls) => `._.${cls.join('-')}`;
exports.cc = cc;
/**html class */
const hc = (...cls) => ['_', cls.join('-')];
exports.hc = hc;
function icon(d, s) {
    if (d) {
        if ((0, inutil_1.isS)(d))
            d = { d };
        else if ((0, s_1.isSelection)(d))
            return d.cls((0, galho_1.cl)("c" /* icon */, s));
        return (0, galho_1.svg)('svg', {
            fill: d.c || "currentColor",
            viewBox: `0 0 ${exports.$.iconS} ${exports.$.iconS}`,
        }, (0, galho_1.svg)('path', { d: d.d })).cls((0, galho_1.cl)("c" /* icon */, s));
    }
}
exports.icon = icon;
const button = (text, click, type = "button") => (0, galho_1.g)("button", (0, exports.hc)("bt" /* button */), text).prop("type", type).on("click", click);
exports.button = button;
const link = (text, href) => (0, galho_1.g)("a", "bt" /* button */, text).prop("href", href);
exports.link = link;
/** button with icon */
const ibutton = (i, text, click, type = "button") => (0, galho_1.g)("button", (0, exports.hc)("bt" /* button */), [icon(i), text])
    .prop("type", type)
    .cls("c" /* icon */, !text).on("click", click);
exports.ibutton = ibutton;
const positive = (i, text, click, type) => (0, exports.ibutton)(i, text, click, type).cls("_a" /* accept */);
exports.positive = positive;
const negative = (i, text, click, type) => (0, exports.ibutton)(i, text, click, type).cls("_e" /* error */);
exports.negative = negative;
/** link with icon */
const ilink = (i, text, href) => (0, galho_1.g)("a", "lk" /* link */, [icon(i), text]).prop("href", href);
exports.ilink = ilink;
/**close button */
const close = (click) => (0, galho_1.div)((0, exports.hc)("cl" /* close */), icon(exports.$.i.close)).on("click", click);
exports.close = close;
/**cancel button */
const cancel = (click) => (0, exports.negative)(exports.$.i.cancel, exports.w.cancel, click);
exports.cancel = cancel;
/**confirm button */
const confirm = (click) => (0, exports.positive)("confirm", exports.w.confirm, click, "submit");
exports.confirm = confirm;
const buttons = (...buttons) => (0, galho_1.div)("bs" /* buttons */, buttons);
exports.buttons = buttons;
function menu(items) { return (0, galho_1.div)((0, exports.hc)("menu" /* menu */), (0, galho_1.g)("table", 0, items)); }
exports.menu = menu;
function dropdown(label, items) {
    return (0, inutil_1.call)((0, galho_1.div)((0, exports.hc)("dd" /* dropdown */), label), e => {
        let mn = items instanceof galho_1.S ? items : null, open;
        e.on("click", () => {
            if (open)
                mn.remove();
            else {
                (mn ||= menu(items)).addTo(e);
                requestAnimationFrame(function _() {
                    fluid(e, mn);
                    if (exports.body.contains(mn))
                        requestAnimationFrame(_);
                });
            }
            open = !open;
        });
    });
}
exports.dropdown = dropdown;
const img = (src, cls) => (0, galho_1.g)("img", cls).prop("src", src);
exports.img = img;
const a = (href, content, cls) => (0, galho_1.g)("a", cls, content).prop("href", href);
exports.a = a;
const hr = (cls) => (0, galho_1.g)("hr", cls);
exports.hr = hr;
function logo(v) {
    if (v)
        if ((0, inutil_1.isS)(v)) {
            switch (v[0]) {
                case ".":
                case "/":
                    return (0, exports.img)(v).cls("c" /* icon */);
                case "<":
                    return (0, galho_1.toSVG)(v).cls("c" /* icon */);
            }
        }
        else
            return icon(v);
}
exports.logo = logo;
/**dropdown with width>=base.width  */
function fluid(base, menu, sub, vAlign, hAlign) {
    let rct = (0, s_1.rect)(base), wh = window.innerHeight, ww = window.innerWidth;
    if (!vAlign)
        vAlign = (rct.top + rct.height / 2) > (wh / 2) ? "t" /* top */ : "b" /* bottom */;
    if (!hAlign)
        hAlign = (rct.left + rct.width / 2) > (ww / 2) ? "l" /* left */ : "r" /* right */;
    menu.css('minWidth', rct.width + 'px');
    if (vAlign == "t" /* top */) {
        menu
            .uncss(['top'])
            .css({
            bottom: (wh - (sub ? rct.bottom : rct.top)) + 'px',
            maxHeight: (sub ? rct.bottom : rct.top) + 'px'
        })
            .cls("b" /* bottom */, false);
    }
    else {
        menu
            .uncss(['bottom'])
            .css({
            top: (sub ? rct.top : rct.bottom) + 'px',
            maxHeight: (wh - (sub ? rct.top : rct.bottom)) + 'px'
        })
            .cls("t" /* top */, false);
    }
    if (hAlign == "l" /* left */) {
        menu
            .uncss(['left'])
            .css('right', (ww - (sub ? rct.left : rct.right)) + 'px')
            .cls("r" /* right */, false);
    }
    else {
        menu
            .uncss(['right'])
            .css('left', (sub ? rct.right : rct.left) + 'px')
            .cls("l" /* left */, false);
    }
    menu.cls([vAlign, hAlign]);
}
exports.fluid = fluid;
/**dropdown with width=base.width  */
function fixed(base, menu, align) {
    let rct = (0, s_1.rect)(base), 
    // h = menu.e.clientHeight,
    wh = window.innerHeight;
    if (wh / 2 - rct.top > 0) {
        base.cls("t" /* top */, false).cls("b" /* bottom */);
        menu.css({
            left: rct.left + 'px',
            top: rct.bottom + 'px',
            maxHeight: (wh - rct.bottom) + 'px'
        }).uncss(['bottom']);
    }
    else {
        base.cls("b" /* bottom */, false).cls("t" /* top */);
        menu.css({
            left: rct.left + 'px',
            bottom: (wh - rct.top) + 'px',
            maxHeight: rct.top + 'px'
        }).uncss(['top']);
    }
    menu.css('width', rct.width + 'px');
}
exports.fixed = fixed;
function popup(div, opts) {
    let last = (0, galho_1.active)(), ctx = div.css({
        left: opts.clientX + 'px',
        top: opts.clientY + 'px'
    }).prop("tabIndex", 0), 
    // isOut: bool,
    wheelHandler = (e) => (0, galho_1.clearEvent)(e);
    ctx.queryAll('button').on('click', function () { last.valid ? last.focus() : this.blur(); });
    ctx.on({
        focusout: (e) => (0, s_1.contains)(ctx, e.relatedTarget) || (ctx.remove() && exports.body.off("wheel", wheelHandler)),
        keydown(e) {
            if (e.key == "Escape") {
                e.stopPropagation();
                ctx.blur();
            }
        }
    }).addTo(exports.body).focus();
    exports.body.on("wheel", wheelHandler, { passive: false });
}
exports.popup = popup;
/**context menu */
async function ctx(e, data) {
    (0, galho_1.clearEvent)(e);
    popup(menu(data), e);
}
exports.ctx = ctx;
const panel = (hd, bd, ft) => (0, galho_1.div)("_ panel", [
    hd && (0, galho_1.wrap)(hd, "hd"),
    (0, galho_1.wrap)(bd, "bd"),
    ft && (0, galho_1.wrap)(ft, "ft")
]);
exports.panel = panel;
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiZ2FsaHVpLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiZ2FsaHVpLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7OztBQUFBLGlDQUFnRztBQUNoRywrQkFBMEQ7QUFDMUQsbUNBQW1DO0FBcUduQyxjQUFjO0FBQ0QsUUFBQSxDQUFDLEdBQXFCO0lBQ2pDLFVBQVU7SUFDVixLQUFLLEVBQUUsRUFBRTtJQUNULEtBQUssRUFBRSxHQUFHO0lBQ1YsR0FBRyxFQUFFLEVBQUU7Q0FDUixDQUFBO0FBQ0QsV0FBVztBQUNFLFFBQUEsQ0FBQyxHQUFrQixFQUFFLENBQUE7QUFJbEMsU0FBZ0IsSUFBSSxDQUFDLEdBQVEsSUFBSSxPQUFPLEdBQUcsQ0FBQyxDQUFDLENBQUM7QUFBOUMsb0JBQThDO0FBQzlDLFNBQWdCLFFBQVEsQ0FBQyxNQUFXO0lBQ2xDLE1BQU0sR0FBRyxHQUFHLFNBQVMsQ0FBQztJQUN0QixNQUFNLENBQUMsT0FBTyxDQUFDLEdBQUcsRUFBRSxDQUFDLENBQUMsRUFBRSxFQUFFLENBQUMsU0FBQyxDQUFDLENBQUMsQ0FBQyxLQUFLLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxNQUFNLEdBQUcsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDO0FBQzFELENBQUM7QUFIRCw0QkFHQztBQW1DWSxRQUFBLElBQUksR0FBRyxJQUFJLFNBQUMsQ0FBQyxRQUFRLENBQUMsSUFBSSxDQUFDLENBQUM7QUFDNUIsUUFBQSxHQUFHLEdBQUcsSUFBSSxTQUFDLENBQUMsUUFBZSxDQUFDLENBQUM7QUFFMUMsZUFBZTtBQUNSLE1BQU0sRUFBRSxHQUFHLENBQUMsR0FBRyxHQUFVLEVBQUUsRUFBRSxDQUFDLE1BQU0sR0FBRyxDQUFDLElBQUksQ0FBQyxHQUFHLENBQUMsRUFBRSxDQUFDO0FBQTlDLFFBQUEsRUFBRSxNQUE0QztBQUMzRCxnQkFBZ0I7QUFDVCxNQUFNLEVBQUUsR0FBRyxDQUFDLEdBQUcsR0FBVSxFQUFFLEVBQUUsQ0FBQyxDQUFDLEdBQUcs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