"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.styleCtx = exports.box = exports.bfg = exports.bottomRadius = exports.vmarg = exports.vpad = exports.topRadius = exports.vs = exports.hs = exports.spc = exports.bords = exports.bord = exports.tAlign = exports.border = exports.rem = exports.c = exports.state = exports.block = exports.center = exports.font = exports.isDark = exports.italic = exports.bold = exports.max = exports.min = void 0;
const inutil_1 = require("inutil");
const galhui_1 = require("./galhui");
const dic_1 = require("dic");
const css_1 = require("galho/css");
const min = (size) => `@media (min-width: ${size}px)`;
exports.min = min;
const max = (size) => `@media (max-width: ${size}px)`;
exports.max = max;
const bold = (v) => v ? (0, inutil_1.isB)(v) ? "bold" : v : null;
exports.bold = bold;
const italic = (v) => v ? (0, inutil_1.isB)(v) ? "italic" : v : null;
exports.italic = italic;
function isDark() {
    return matchMedia && matchMedia('(prefers-color-scheme: dark)').matches;
}
exports.isDark = isDark;
function font(v) {
    return v && ((0, inutil_1.isN)(v) ?
        { fontSize: v + "rem" } :
        v.f ?
            { font: `${(0, inutil_1.toStr)((0, exports.italic)(v.i))} ${(0, inutil_1.toStr)((0, exports.bold)(v.b))} ${v.s}rem ${v.f}` } :
            { fontSize: v.s && (v.s + "rem"), fontWeight: (0, exports.bold)(v.b), fontStyle: (0, exports.italic)(v.i) });
}
exports.font = font;
function center() {
    return {
        position: "absolute",
        left: "50%",
        top: "50%",
        transform: "translate(-50%,-50%)"
    };
}
exports.center = center;
const block = (v) => v && (0, dic_1.filter)({
    color: v.fg,
    padding: (0, exports.spc)(v.pad),
    margin: (0, exports.spc)(v.mrg),
    borderRadius: (0, exports.spc)(v.rad),
    ...(0, exports.bords)(v.brd),
    background: v.bg,
    ...font(v.f)
});
exports.block = block;
const state = (v) => v && (0, dic_1.filter)({
    ...(0, exports.block)(v),
    ":hover": v.h && (0, exports.block)(v.h),
    ":visited": v.v && (0, exports.block)(v.v),
    ":active,:focus": v.on && (0, exports.block)(v.on),
});
exports.state = state;
const c = (...cls) => (0, galhui_1.cc)(...cls);
exports.c = c;
const rem = (v) => v + "rem";
exports.rem = rem;
const border = (color, size = 1) => `${size}px solid ${color}`;
exports.border = border;
function tAlign(v) {
    switch (v) {
        case "l" /* left */:
            return "left";
        case "c" /* center */:
            return "center";
        case "r" /* right */:
            return "right";
        case "j" /* justify */:
            return "justify";
    }
}
exports.tAlign = tAlign;
const bord = (b) => b && `${b.w || 1}px ${b.s || "solid"} ${b.c}`;
exports.bord = bord;
const bords = (b) => b &&
    ((0, inutil_1.isA)(b) ? {
        borderTop: (0, exports.bord)(b[0]),
        borderRight: (0, exports.bord)(b[1]),
        borderBottom: (0, exports.bord)((0, inutil_1.def)(b[2], b[0])),
        borderLeft: (0, exports.bord)((0, inutil_1.def)(b[3], b[1]))
    } : { border: (0, exports.bord)(b) });
exports.bords = bords;
const spc = (v, unit = "em") => (0, inutil_1.isV)(v) ? ((0, inutil_1.isN)(v) ? v + unit : v.map(v => v + unit).join(" ")) : null;
exports.spc = spc;
/**horizontal space */
const hs = (v) => (0, inutil_1.isN)(v) ? v : v[1];
exports.hs = hs;
/**vertical space */
const vs = (v) => (0, inutil_1.isN)(v) ? v : v[0];
exports.vs = vs;
const topRadius = (v, unit = "rem") => ({
    borderTopLeftRadius: v + unit,
    borderTopRightRadius: v + unit
});
exports.topRadius = topRadius;
const vpad = (v) => ({
    paddingTop: v,
    paddingBottom: v
});
exports.vpad = vpad;
const vmarg = (v) => ({
    marginTop: v,
    marginBottom: v
});
exports.vmarg = vmarg;
const bottomRadius = (v, unit = "rem") => ({
    borderBottomLeftRadius: v + unit,
    borderBottomRightRadius: v + unit
});
exports.bottomRadius = bottomRadius;
/**back & fore ground */
const bfg = (bg, fg) => ({
    background: bg, color: fg
});
exports.bfg = bfg;
const box = (mrg, pad) => ({
    margin: (0, exports.spc)(mrg), padding: (0, exports.spc)(pad)
});
exports.box = box;
function styleCtx(options, tag = (0, css_1.css)({})) {
    let list = [], add = (style) => {
        if ((0, inutil_1.isO)(style))
            (0, css_1.css)(style, tag);
        else if (!list.includes(style)) {
            list.push(style);
            (0, css_1.css)(style(add), tag);
        }
        return add;
    };
    return (0, inutil_1.ex)(add, options);
}
exports.styleCtx = styleCtx;
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoic3R5bGUuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyJzdHlsZS50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7QUFDQSxtQ0FBaUU7QUFDakUscUNBQXNDO0FBQ3RDLDZCQUE2QjtBQUM3QixtQ0FBMkQ7QUFrQnBELE1BQU0sR0FBRyxHQUFHLENBQUMsSUFBZ0IsRUFBRSxFQUFFLENBQUMsc0JBQXNCLElBQUksS0FBSyxDQUFDO0FBQTVELFFBQUEsR0FBRyxPQUF5RDtBQUNsRSxNQUFNLEdBQUcsR0FBRyxDQUFDLElBQWdCLEVBQUUsRUFBRSxDQUFDLHNCQUFzQixJQUFJLEtBQUssQ0FBQztBQUE1RCxRQUFBLEdBQUcsT0FBeUQ7QUFDbEUsTUFBTSxJQUFJLEdBQUcsQ0FBQyxDQUE2QixFQUFPLEVBQUUsQ0FDekQsQ0FBQyxDQUFDLENBQUMsQ0FBQyxJQUFBLFlBQUcsRUFBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsTUFBTSxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLElBQUksQ0FBQztBQURwQixRQUFBLElBQUksUUFDZ0I7QUFDMUIsTUFBTSxNQUFNLEdBQUcsQ0FBQyxDQUE0QixFQUFPLEVBQUUsQ0FDMUQsQ0FBQyxDQUFDLENBQUMsQ0FBQyxJQUFBLFlBQUcsRUFBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsUUFBUSxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLElBQUksQ0FBQztBQUR0QixRQUFBLE1BQU0sVUFDZ0I7QUFFbkMsU0FBZ0IsTUFBTTtJQUNwQixPQUFPLFVBQVUsSUFBSSxVQUFVLENBQUMsOEJBQThCLENBQUMsQ0FBQyxPQUFPLENBQUE7QUFDekUsQ0FBQztBQUZELHdCQUVDO0FBQ0QsU0FBZ0IsSUFBSSxDQUFDLENBQU87SUFDMUIsT0FBTyxDQUFDLElBQUksQ0FBQyxJQUFBLFlBQUcsRUFBQyxDQUFDLENBQUMsQ0FBQyxDQUFDO1FBQ25CLEVBQUUsUUFBUSxFQUFFLENBQUMs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