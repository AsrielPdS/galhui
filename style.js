import { css } from "galho";
import { assign, def, isA, isB, isN, isO, toStr } from "galho/util.js";
import { filterDic } from "./util.js";
export const rgba = (r, g, b, a) => `rgba(${r},${g},${b},${a})`;
export const rgb = (r, g, b) => `rgb(${r},${g},${b})`;
export function bold(v) {
    return v ? isB(v) ? "bold" : v : null;
}
export function italic(v) {
    return v ? isB(v) ? "italic" : v : null;
}
export const isDark = () => matchMedia && matchMedia('(prefers-color-scheme: dark)').matches, font = (v) => v && (isN(v) ?
    { fontSize: v + "rem" } :
    v.f ?
        { font: `${toStr(italic(v.i))} ${toStr(bold(v.b))} ${v.s}rem ${v.f}` } :
        { fontSize: v.s && (v.s + "rem"), fontWeight: bold(v.b), fontStyle: italic(v.i) }), vpad = (v) => ({
    paddingTop: v,
    paddingBottom: v
}), vmarg = (v) => ({
    marginTop: v,
    marginBottom: v
}), bord = (b) => b && `${b.w || 1}px ${b.s || "solid"} ${b.c}`, bords = (b) => b &&
    (isA(b) ? {
        borderTop: bord(b[0]),
        borderRight: bord(b[1]),
        borderBottom: bord(def(b[2], b[0])),
        borderLeft: bord(def(b[3], b[1]))
    } : { border: bord(b) }), block = (v) => v && filterDic({
    color: v.fg,
    padding: spc(v.pad),
    margin: spc(v.mrg),
    borderRadius: spc(v.rad),
    ...bords(v.brd),
    background: v.bg,
    ...font(v.f)
}), state = (v) => v && filterDic({
    ...block(v),
    ":hover": v.h && block(v.h),
    ":visited": v.v && block(v.v),
    ":active,:focus": v.on && block(v.on),
});
// export const c = (...cls: str[]) => cc(...cls);
export const rem = (v) => v + "rem";
export const border = (color, size = 1) => `${size}px solid ${color}`;
export function tAlign(v) {
    switch (v) {
        case "l" /* HAlign.left */:
            return "left";
        case "c" /* HAlign.center */:
            return "center";
        case "r" /* HAlign.right */:
            return "right";
        case "j" /* HAlign.justify */:
            return "justify";
    }
}
export const spc = (v, unit = "em") => v == null ? null : (isN(v) ? v + unit : v.map(v => v + unit).join(" "));
/**horizontal space */
export const hs = (v) => isN(v) ? v : v[1];
/**vertical space */
export const vs = (v) => isN(v) ? v : v[0];
export const topRadius = (v, unit = "rem") => ({
    borderTopLeftRadius: v + unit,
    borderTopRightRadius: v + unit
});
export const bottomRadius = (v, unit = "rem") => ({
    borderBottomLeftRadius: v + unit,
    borderBottomRightRadius: v + unit
});
/**back & fore ground */
export const bfg = (bg, fg) => ({
    background: bg, color: fg
});
export const box = (mrg, pad) => ({
    margin: spc(mrg), padding: spc(pad)
});
export function styleCtx(options, sep) {
    let list = [], add = (style) => {
        if (isO(style))
            add.css += css(style, null, sep);
        else if (!list.includes(style)) {
            list.push(style);
            add.css += css(style(add), null, sep);
        }
        return add;
    };
    add.css = "";
    return assign(add, options);
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoic3R5bGUuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyJzdHlsZS50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFDQSxPQUFPLEVBQUUsR0FBRyxFQUFpQixNQUFNLE9BQU8sQ0FBQztBQUMzQyxPQUFPLEVBQUUsTUFBTSxFQUFRLEdBQUcsRUFBUyxHQUFHLEVBQUUsR0FBRyxFQUFFLEdBQUcsRUFBRSxHQUFHLEVBQU8sS0FBSyxFQUFFLE1BQU0sZUFBZSxDQUFDO0FBRXpGLE9BQU8sRUFBRSxTQUFTLEVBQUUsTUFBTSxXQUFXLENBQUM7QUFHdEMsTUFBTSxDQUFDLE1BQU0sSUFBSSxHQUFHLENBQUMsQ0FBUSxFQUFFLENBQVEsRUFBRSxDQUFRLEVBQUUsQ0FBUSxFQUFFLEVBQUUsQ0FBQyxRQUFRLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsR0FBRyxDQUFDO0FBQzVGLE1BQU0sQ0FBQyxNQUFNLEdBQUcsR0FBRyxDQUFDLENBQVEsRUFBRSxDQUFRLEVBQUUsQ0FBUSxFQUFFLEVBQUUsQ0FBQyxPQUFPLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxHQUFHLENBQUM7QUFDM0UsTUFBTSxVQUFVLElBQUksQ0FBQyxDQUE2QjtJQUNoRCxPQUFPLENBQUMsQ0FBQyxDQUFDLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxNQUFNLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsSUFBSSxDQUFDO0FBQ3hDLENBQUM7QUFDRCxNQUFNLFVBQVUsTUFBTSxDQUFDLENBQTRCO0lBQ2pELE9BQU8sQ0FBQyxDQUFDLENBQUMsQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLFFBQVEsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxJQUFJLENBQUM7QUFDMUMsQ0FBQztBQUNELE1BQU0sQ0FBQyxNQUNMLE1BQU0sR0FBRyxHQUFHLEVBQUUsQ0FBQyxVQUFVLElBQUks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