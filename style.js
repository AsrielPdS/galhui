import { css } from "galho";
import { filter } from "galho/dic.js";
import { assign, def, isA, isB, isN, isO, toStr } from "galho/util.js";
export const bold = (v) => v ? isB(v) ? "bold" : v : null, italic = (v) => v ? isB(v) ? "italic" : v : null, isDark = () => matchMedia && matchMedia('(prefers-color-scheme: dark)').matches, font = (v) => v && (isN(v) ?
    { fontSize: v + "rem" } :
    v.f ?
        { font: `${toStr(italic(v.i))} ${toStr(bold(v.b))} ${v.s}rem ${v.f}` } :
        { fontSize: v.s && (v.s + "rem"), fontWeight: bold(v.b), fontStyle: italic(v.i) }), vpad = (v) => ({
    paddingTop: v,
    paddingBottom: v
}), vmarg = (v) => ({
    marginTop: v,
    marginBottom: v
}), bord = (b) => b && `${b.w || 1}px ${b.s || "solid"} ${b.c}`, bords = (b) => b &&
    (isA(b) ? {
        borderTop: bord(b[0]),
        borderRight: bord(b[1]),
        borderBottom: bord(def(b[2], b[0])),
        borderLeft: bord(def(b[3], b[1]))
    } : { border: bord(b) }), block = (v) => v && filter({
    color: v.fg,
    padding: spc(v.pad),
    margin: spc(v.mrg),
    borderRadius: spc(v.rad),
    ...bords(v.brd),
    background: v.bg,
    ...font(v.f)
}), state = (v) => v && filter({
    ...block(v),
    ":hover": v.h && block(v.h),
    ":visited": v.v && block(v.v),
    ":active,:focus": v.on && block(v.on),
});
// export const c = (...cls: str[]) => cc(...cls);
export const rem = (v) => v + "rem";
export const border = (color, size = 1) => `${size}px solid ${color}`;
export function tAlign(v) {
    switch (v) {
        case "l" /* HAlign.left */:
            return "left";
        case "c" /* HAlign.center */:
            return "center";
        case "r" /* HAlign.right */:
            return "right";
        case "j" /* HAlign.justify */:
            return "justify";
    }
}
export const spc = (v, unit = "em") => v == null ? null : (isN(v) ? v + unit : v.map(v => v + unit).join(" "));
/**horizontal space */
export const hs = (v) => isN(v) ? v : v[1];
/**vertical space */
export const vs = (v) => isN(v) ? v : v[0];
export const topRadius = (v, unit = "rem") => ({
    borderTopLeftRadius: v + unit,
    borderTopRightRadius: v + unit
});
export const bottomRadius = (v, unit = "rem") => ({
    borderBottomLeftRadius: v + unit,
    borderBottomRightRadius: v + unit
});
/**back & fore ground */
export const bfg = (bg, fg) => ({
    background: bg, color: fg
});
export const box = (mrg, pad) => ({
    margin: spc(mrg), padding: spc(pad)
});
export function styleCtx(options, sep) {
    let list = [], add = (style) => {
        if (isO(style))
            add.css += css(style, null, sep);
        else if (!list.includes(style)) {
            list.push(style);
            add.css += css(style(add), null, sep);
        }
        return add;
    };
    add.css = "";
    return assign(add, options);
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoic3R5bGUuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyJzdHlsZS50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFDQSxPQUFPLEVBQUUsR0FBRyxFQUFpQixNQUFNLE9BQU8sQ0FBQztBQUMzQyxPQUFPLEVBQUUsTUFBTSxFQUFFLE1BQU0sY0FBYyxDQUFDO0FBQ3RDLE9BQU8sRUFBRSxNQUFNLEVBQVEsR0FBRyxFQUFTLEdBQUcsRUFBRSxHQUFHLEVBQUUsR0FBRyxFQUFFLEdBQUcsRUFBTyxLQUFLLEVBQUUsTUFBTSxlQUFlLENBQUM7QUFHekYsTUFBTSxDQUFDLE1BQ0wsSUFBSSxHQUFHLENBQUMsQ0FBNkIsRUFBTyxFQUFFLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLE1BQU0sQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxJQUFJLEVBQzdFLE1BQU0sR0FBRyxDQUFDLENBQTRCLEVBQU8sRUFBRSxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxRQUFRLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsSUFBSSxFQUNoRixNQUFNLEdBQUcsR0FBRyxFQUFFLENBQUMsVUFBVSxJQUFJLFVBQVUsQ0FBQyw4QkFBOEIsQ0FBQyxDQUFDLE9BQU8sRUFDL0UsSUFBSSxHQUFHLENBQUMsQ0FBTyxFQUFFLEVBQUUsQ0FBQyxDQUFDLElBQUksQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQztJQUNoQyxFQUFFLFFBQVEsRUFBRSxDQUFDLEdBQUcsS0FBSyxFQUFFLENBQUMsQ0FBQztJQUN6QixDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUM7UUFDSCxFQUFFLElBQUksRUFBRSxHQUFHLEtBQUssQ0FBQyxNQUFNLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLElBQUksS0FBSyxDQUFD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